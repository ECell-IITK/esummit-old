"use strict";class skrolr{constructor(t,i){switch(this.curPos=0,this.inTransition=!1,this.wasRunning=!0,this.isRunning=!1,this.forward=(()=>this.goto(this.curPos+this.scrollBy,!0)),this.backward=(()=>this.goto(this.curPos-this.scrollBy,!0)),skrolr.all.push(this),typeof t){case"object":this.root=t;break;case"string":this.root=document.getElementById(t);break;default:return void console.log("Error: parameter passed must be DOM object or ID of a DOM object")}if(this.root.className="sk",this.numWide=i.numWide,this.moveTime=i.moveTime||500,this.waitTime=i.waitTime||3e3,this.transitionTiming=i.transitionTiming||"ease-in-out",this.scrollBy=i.scrollBy||1,this.numObjs=this.root.children.length,!0===i.randomize){let t=skrolr.Array.from(this.root.children);for(let i=this.numObjs-1;i>0;i--){let s=Math.floor(Math.random()*(i+1));[t[i],t[s]]=[t[s],t[i]]}let i;for(;i=this.root.firstChild;)this.root.removeChild(i);for(let i of t)this.root.appendChild(i)}if(this.parent=document.createElement("div"),this.parent.style.position="relative",this.parent.style.overflow="hidden",void 0!==i.height&&(this.parent.style.height=i.height),void 0!==i.width&&(this.parent.style.width=i.width),void 0!==i.size){let t=i.size.split(" ");this.parent.style.width=t[0],this.parent.style.height=t[1]}if(this.root.parentElement.insertBefore(this.parent,this.root),this.parent.appendChild(this.root),this.autoWidth(),!0===i.arrows){let t=document.createElement("div");t.className="sk-arrow sk-left sk-hidden",t.onclick=(()=>this.stop().goto(this.curPos-Math.abs(this.scrollBy))),this.parent.appendChild(t);let i=document.createElement("div");i.className="sk-arrow sk-right sk-hidden",i.onclick=(()=>this.stop().goto(this.curPos+Math.abs(this.scrollBy))),this.parent.appendChild(i),this.parent.addEventListener("mouseover",()=>this.toggleArrows()),this.parent.addEventListener("mouseout",()=>this.toggleArrows())}if(!0===i.buttons){let t=document.createElement("div");t.className="sk-button-cont sk-hidden",this.parent.appendChild(t),this.parent.addEventListener("mouseover",()=>this.toggleButtons()),this.parent.addEventListener("mouseout",()=>this.toggleButtons());for(let i=0;i<this.numObjs;i++){let s=document.createElement("div");s.className="sk-button",s.onclick=(()=>this.stop().goto(i)),t.appendChild(s)}}document.hasFocus()&&this.start()}reinitialize(t){let i=document.querySelectorAll(".sk-arrow, .sk-button-cont");return skrolr.forEach(i,t=>t.parentNode.removeChild(t)),this.parent.parentNode.insertBefore(this.root,this.parent),this.parent.parentNode.removeChild(this.parent),void 0===t&&(t={}),"numWide"in t||(t.numWide=this.numWide),new skrolr(this.root,t)}toggleArrows(){return this.parent.children[1].classList.toggle("sk-hidden"),this.parent.children[2].classList.toggle("sk-hidden"),this}toggleButtons(){return this.parent.children[3].classList.toggle("sk-hidden"),this}autoWidth(){const t=this.root.children;for(let i=0,s=this.numWide.length;i<s;i++)if(this.numWide[i][0]<=this.root.offsetWidth&&(this.root.offsetWidth<this.numWide[i][1]||void 0===this.numWide[i][1]||null===this.numWide[i][1])){for(skrolr.forEach(t,t=>t.style.width=100/this.numWide[i][2]+"%");this.childrenWidth()<this.parent.offsetWidth;)for(let i=0,s=t.length;i<s;i++){let s=t[i].cloneNode(!0);this.root.appendChild(s)}break}return this}childrenWidth(){let t=0;return skrolr.forEach(this.root.children,i=>t+=i.offsetWidth),t}goto(t,i){if(!this.inTransition){!0!==i&&clearInterval(this.interval),t=skrolr.pmod(t,this.numObjs);let s=skrolr.pmod(this.curPos-t,this.numObjs),o=skrolr.pmod(t-this.curPos,this.numObjs);if(s&&o){if(this.inTransition=!0,o<=s){this.curPos=t;const i=skrolr.Array.from(this.root.children).slice(0,o);let s=0;for(let t of i){const i=t;s+=i.offsetWidth;const o=i.cloneNode(!0);this.root.appendChild(o)}this.root.style.transition=this.moveTime+"ms "+this.transitionTiming,this.root.style.left=-1*s+"px",setTimeout(()=>{this.root.style.transition="0s";this.root.style.left="0";skrolr.forEach(i,t=>this.root.removeChild(t))},this.moveTime)}else{this.curPos=t;const i=skrolr.Array.from(this.root.children).slice(-s);let o=0,n=i.length;for(let t=0;t<n;t++){const s=i[n-t-1];o+=s.offsetWidth;const e=s.cloneNode(!0);this.root.insertBefore(e,this.root.firstChild)}this.root.style.transition="0s",this.root.style.left=-1*o+"px",setTimeout(()=>{this.root.style.transition=this.moveTime+"ms "+this.transitionTiming;this.root.style.left="0"},0),setTimeout(()=>{skrolr.forEach(i,t=>this.root.removeChild(t))},this.moveTime)}return setTimeout(()=>{this.inTransition=!1},this.moveTime),this}}}start(){return this.wasRunning=!0,this.isRunning=!0,clearInterval(this.interval),this.interval=setInterval(()=>this.forward(),this.moveTime+this.waitTime),this}stop(t){return t||(this.wasRunning=!1),this.isRunning=!1,clearInterval(this.interval),this}isVisible(){const t=this.parent.getBoundingClientRect(),i=document.documentElement;return t.bottom>=0&&t.top<=(window.innerHeight||i.clientHeight)&&t.right>=0&&t.left<=(window.innerWidth||i.clientWidth)}}skrolr.all=[],skrolr.each=(t=>skrolr.all.forEach(i=>t(i))),skrolr.Array=class extends Array{static from(t){let i=[];for(let s of t)i.push(s);return i}},skrolr.forEach=((t,i)=>{for(let s of t)i(s)}),skrolr.pmod=((t,i)=>(t%i+i)%i),window.onresize=function(){skrolr.each(function(t){t.autoWidth()})},window.addEventListener("focus",function(){skrolr.each(function(t){t.wasRunning&&t.start()})}),window.addEventListener("blur",function(){skrolr.each(function(t){t.stop(!0)})}),window.addEventListener("scroll",function(){skrolr.each(function(t){const i=t.isVisible();!t.isRunning&&t.wasRunning&&i?t.start():t.isRunning&&!i&&t.stop(!0)})});